(()=>{"use strict";var e={};self.onmessage=async e=>{switch(e.data.type){case"__START_URL_CACHE__":{let t=e.data.url,a=await fetch(t);if(!a.redirected)return(await caches.open("start-url")).put(t,a);return Promise.resolve()}case"__FRONTEND_NAV_CACHE__":{var s;let r=e.data.url,c=await caches.open("pages");if(await c.match(r,{ignoreSearch:!0}))return;let i=await fetch(r);if(!i.ok)return;if(c.put(r,i.clone()),e.data.shouldCacheAggressively&&(null===(s=i.headers.get("Content-Type"))||void 0===s?void 0:s.includes("text/html")))try{let l=await i.text(),o=[],h=await caches.open("static-style-assets"),n=await caches.open("next-static-js-assets"),u=await caches.open("static-js-assets");for(let[d,f]of l.matchAll(/<link.*?href=['"](.*?)['"].*?>/g))/rel=['"]stylesheet['"]/.test(d)&&o.push(h.match(f).then(e=>e?Promise.resolve():h.add(f)));for(let[,m]of l.matchAll(/<script.*?src=['"](.*?)['"].*?>/g)){let p=/\/_next\/static.+\.js$/i.test(m)?n:u;o.push(p.match(m).then(e=>e?Promise.resolve():p.add(m)))}return await Promise.all(o)}catch(_){}return Promise.resolve()}default:return Promise.resolve()}}})();